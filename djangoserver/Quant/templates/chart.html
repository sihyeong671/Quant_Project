{% extends 'index.html' %}
{% load static %}
{% block content %}
<!-- <script defer src="{% static '/js/script.js' %}"></script> -->
<link rel="stylesheet" href="{% static '/css/chart.css' %}">
<link rel="stylesheet" href="{% static '/css/style.css' %}">
<div class="container">

    <header class="header">
        <h1 class="LOGO">퀀트 기획</h1>
    </header>

    <main class="main">

        <div class="sideBar">
            <ul class="category">

                <a href="">
                    <li class="category_item">
                        첫번째
                    </li>
                </a>

                <a href="">
                    <li class="category_item">
                        두번째
                    </li>
                </a>

                <a href="">
                    <li class="category_item">
                        세번째
                    </li>
                </a>

            </ul>
        </div>

        <div class="main_container">
            
            <!-- <article class="chart_view">
                <div class="csr line_chart-wrapper">
                    <canvas id="line_chart"></canvas>
                </div>

                <div class="csr rader_chart-wrapper">
                    <canvas id="rader_chart"></canvas>
                </div>

                <div class="csr doughnut_chart-wrapper">
                    <canvas id="doughnut_chart"></canvas>
                </div>

                <div class="csr polar_chart-wrapper">
                    <canvas id="polar_chart"></canvas>
                </div>
            </article>
            <button class="chartChanger">CLICK</button> -->

            <div class="statement_table-wrapper">
                <table class="statement_table">
                    <thead class="statement_head">  
                        <tr>
                            <th>회사명</th>
                            <th>연도</th>
                            <th>분기</th>
                            <th>재무재표 연결, 일반</th>
                            <th>재무재표 분류</th>
                            <th>계정명</th>
                            <th>자산</th>
                        </tr>
                    </thead>
                    <tbody class="statement_body">

                        {% for com in company_list %}
                        <tr>
                            <td> {{com.company_name}} </td> 
                            {% for y in com.year_set.all %}
                                <td> {{y.bsns_year}} </td>

                                {% for q in y.quarter_set.all %}
                                    <td> {{q.quarter_name}} </td>

                                    {% for lo in q.financial_statements_linkorbasic_set.all %}
                                        <td> {{lo.linkOrbasic}} </td>

                                        {% for fd in lo.financial_statements_div_set.all %}
                                            <td> {{fd.sj_div}} </td>

                                            {% for fsa in fd.fs_account_set.all %}
                                                <td> {{fsa.account_name}} </td><td> {{fsa.a}} </td>
                                            {% endfor %}

                                        {% endfor %}

                                    {% endfor %}

                                {% endfor %}

                            {% endfor %}
                        </tr>
                        {% endfor %}
                    
                    </tbody>
                </table>
            </div>

        </div>

    </main>

</div>
<script>
    // var chartSet = JSON.parse("{{ chartJson|escapejs }}");  
    const companySelect = document.getElementById('comSel');

    companySelect.addEventListener('click', (e)=>{
        console.log(companySelect.value);
    });
</script>
{% endblock %}